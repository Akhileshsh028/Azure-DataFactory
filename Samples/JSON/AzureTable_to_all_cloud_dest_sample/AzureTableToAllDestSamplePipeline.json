{
    "name": "AzureTableToAllSinksSamplePipeline",
    "properties":
    {
		"start": "2014-06-01T18:00:00",
		"end": "2014-06-01T19:00:00",
		"description" : "AzureTableToAllSinksSamplePipeline",
		"activities":
		[
			
			{
				"name": "AzureTabletoBlob",
				"description": "AzureTabletoBlob", 
				"type": "CopyActivity",
				"inputs":  [ { "name": "AzureTableSource"  } ],
				"outputs":  [ { "name": "AzureBlobDest" } ],
				"linkedServiceName": "HDInsightLinkedService",
				"transformation":
				{
					"source":
					{                               
						"type": "AzureTableSource",
						"AzureTableSourceQuery": "PartitionKey eq 'DefaultPartitionKey'"
					},
					"sink":
					{
						"type": "BlobSink",
						"writeBatchSize": 1000000,
						"writeBatchTimeout": "01:00:00"
					}
				},
				"policy":
				{
					"concurrency": 1,
					"executionPriorityOrder": "OldestFirst",
					"retry": 0,
					"timeout": "01:00:00"
				}
			},
			{
				"name": "AzureTabletoTable",
				"description": "AzureTabletoBlob", 
				"type": "CopyActivity",
				"inputs":  [ { "name": "AzureTableSource"  } ],
				"outputs":  [ { "name": "AzureTableDest" } ],
				"linkedServiceName": "HDInsightLinkedService",
				"transformation":
				{
					"source":
					{                               
						"type": "AzureTableSource",
						"AzureTableSourceQuery": "PartitionKey eq 'DefaultPartitionKey'"
					},
					"sink":
					{
						"type": "AzureTableSink",
						"writeBatchSize": 1000000,
						"writeBatchTimeout": "01:00:00",
						"azureTableRetryIntervalInSec": 60,
						"azureTableRetryTimes": 5
					}
				},
				"policy":
				{
					"concurrency": 1,
					"executionPriorityOrder": "OldestFirst",
					"retry": 0,
					"timeout": "01:00:00"
				}
			},
			{
				"name": "AzureTabletoSQL",
				"description": "AzureTabletoBlob", 
				"type": "CopyActivity",
				"inputs":  [ { "name": "AzureTableSource"  } ],
				"outputs":  [ { "name": "AzureSqlDest" } ],
				"linkedServiceName": "HDInsightLinkedService",
				"transformation":
				{
					"source":
					{                               
						"type": "AzureTableSource",
						"AzureTableSourceQuery": "PartitionKey eq 'DefaultPartitionKey'"
					},
					"sink":
					{
						"type": "SqlSink",
						"writeBatchSize": 99,
						"writeBatchTimeout": "01:00:00"
					}
				},
				"policy":
				{
					"concurrency": 1,
					"executionPriorityOrder": "OldestFirst",
					"retry": 0,
					"timeout": "01:00:00"
				}
			}
		]
    }
}